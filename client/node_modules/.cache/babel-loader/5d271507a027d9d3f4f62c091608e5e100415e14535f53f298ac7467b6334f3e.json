{"ast":null,"code":"import _regeneratorRuntime from\"/home/adbuls/social-media-app-MERN-master/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/adbuls/social-media-app-MERN-master/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/adbuls/social-media-app-MERN-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useHistory}from\"react-router\";import{Link}from\"react-router-dom\";import{withStyles}from'@material-ui/core/styles';import{styles}from'./registerPageStyle';import Avatar from'@material-ui/core/Avatar';import TextField from'@material-ui/core/TextField';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(_ref){var classes=_ref.classes;var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),passwordErr=_useState2[0],setPasswordErr=_useState2[1];var handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var username,email,password,passwordAgain,user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();username=document.getElementById('username').value;email=document.getElementById('email').value;password=document.getElementById('password').value;passwordAgain=document.getElementById('passwordAgain').value;if(!(passwordAgain!==password)){_context.next=10;break;}setPasswordErr(\"Passwords don't match!\");setTimeout(function(){setPasswordErr('');},5000);_context.next=20;break;case 10:user={username:username,email:email,password:password};_context.prev=11;_context.next=14;return axios.post(\"/auth/register\",user);case 14:history.push(\"/login\");_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](11);console.log(_context.t0);case 20:case\"end\":return _context.stop();}},_callee,null,[[11,17]]);}));return function handleClick(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:classes.register,children:/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,autoComplete:\"off\",onSubmit:handleClick,children:[/*#__PURE__*/_jsx(\"h1\",{style:{marginBottom:'10vh'},children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"p\",{className:classes.text,children:[\"already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"log in now\"})]}),/*#__PURE__*/_jsx(\"p\",{className:classes.disclaimor,children:\"DISCLAIMOR:  This app was developed within a research project and it is used to collect data about user behaviour and interaction, such as who reacts on which posts and how. Generally, you should not use this app unless you want to donate data to the project. If you use this app, but you change your mind later and want your data to be deleted, please contact us at krisztian.antal.buza@ijs.si . This app is not intended as a service to the general public.\"}),/*#__PURE__*/_jsx(Avatar,{alt:\"choose avatar\",src:\"\",className:classes.avatar}),/*#__PURE__*/_jsx(TextField,{className:classes.textField,id:\"username\",name:\"username\",label:\"Username\",required:true}),/*#__PURE__*/_jsx(TextField,{className:classes.textField,id:\"email\",name:\"email\",label:\"Email\",type:\"email\",required:true}),/*#__PURE__*/_jsx(TextField,{className:classes.textField,id:\"password\",label:\"Password\",type:\"password\",minLength:\"6\",autoComplete:\"current-password\"}),/*#__PURE__*/_jsx(TextField,{className:classes.textField,id:\"passwordAgain\",name:\"passwordAgain\",label:\"Password Again\",type:\"password\",required:true}),/*#__PURE__*/_jsx(\"p\",{className:classes.errorMessage,children:passwordErr}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:classes.button,children:\"Signup\"})]})});}export default withStyles(styles)(Register);","map":{"version":3,"names":["useState","useHistory","Link","withStyles","styles","Avatar","TextField","axios","jsx","_jsx","jsxs","_jsxs","Register","_ref","classes","history","_useState","_useState2","_slicedToArray","passwordErr","setPasswordErr","handleClick","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","username","email","password","passwordAgain","user","wrap","_callee$","_context","prev","next","preventDefault","document","getElementById","value","setTimeout","post","push","t0","console","log","stop","_x","apply","arguments","className","register","children","form","noValidate","autoComplete","onSubmit","style","marginBottom","text","to","disclaimor","alt","src","avatar","textField","id","name","label","required","type","minLength","errorMessage","button"],"sources":["/home/adbuls/social-media-app-MERN-master/client/src/pages/register/Register.js"],"sourcesContent":["import { useState } from 'react';\nimport { useHistory } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { withStyles } from '@material-ui/core/styles';\nimport {styles} from './registerPageStyle'\nimport Avatar from '@material-ui/core/Avatar';\nimport TextField from '@material-ui/core/TextField';\nimport axios from \"axios\";\n\nfunction Register({classes}) {\n  const history = useHistory();\n  const [passwordErr, setPasswordErr] = useState('');\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    const username = document.getElementById('username').value;\n    const email = document.getElementById('email').value;\n    const password = document.getElementById('password').value;\n    const passwordAgain = document.getElementById('passwordAgain').value;\n\n    if (passwordAgain !== password) {\n      setPasswordErr(\"Passwords don't match!\");\n\n      setTimeout(() => {\n        setPasswordErr('');\n      }, 5000)\n    } else {\n\n      const user = {\n        username: username,\n        email: email,\n        password: password,\n      };\n      try {\n        await axios.post(\"/auth/register\", user);\n        history.push(\"/login\");\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n    return (\n      <div className={classes.register}>\n        <form \n\t\t\t\t\t\tclassName={classes.form} \n\t\t\t\t\t\tnoValidate \n\t\t\t\t\t\tautoComplete=\"off\" \n\t\t\t\t\t\tonSubmit={handleClick}\n\t\t\t\t\t>\n\t\t\t\t\t\t<h1 style={{marginBottom: '10vh'}}>Sign Up</h1>\n\t\t\t\t\t\t<p className={classes.text}>already have an account? <Link to='/login'>log in now</Link></p><p className={classes.disclaimor}>DISCLAIMOR:  This app was developed within a research project and it is used to collect data about user behaviour and interaction, \n\t\t\t\t\tsuch as who reacts on which posts and how. Generally, you should not use this app unless you want to donate data to the project. If you use this app, \n\t\t\t\t\tbut you change your mind later and want your data to be deleted, please contact us at krisztian.antal.buza@ijs.si . This app is not intended as a service \n\t\t\t\t\tto the general public.</p>\n\t\t\t\t\t\t<Avatar alt='choose avatar' src=\"\" className={classes.avatar}/>\n            <TextField \n\t\t\t\t\t\t\tclassName={classes.textField}\t\t\t\t\t\t\n\t\t\t\t\t\t\tid='username' \n\t\t\t\t\t\t\tname='username' \n\t\t\t\t\t\t\tlabel=\"Username\" \n\t\t\t\t\t\t\trequired\t\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField \n\t\t\t\t\t\t\tclassName={classes.textField}\t\t\t\t\t\t\n\t\t\t\t\t\t\tid='email' \n\t\t\t\t\t\t\tname='email' \n\t\t\t\t\t\t\tlabel=\"Email\" \n              type=\"email\"\n\t\t\t\t\t\t\trequired \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\ttype=\"password\"\n              minLength=\"6\"\n\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField \n\t\t\t\t\t\t\tclassName={classes.textField}\t\t\t\t\t\t\n\t\t\t\t\t\t\tid='passwordAgain' \n\t\t\t\t\t\t\tname='passwordAgain' \n\t\t\t\t\t\t\tlabel=\"Password Again\" \n              type=\"password\"\n\t\t\t\t\t\t\trequired\t\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p className={classes.errorMessage}>{passwordErr}</p>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSignup\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n      </div>\n    )\n}\n\nexport default withStyles(styles)(Register);\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}