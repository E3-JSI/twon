{"ast":null,"code":"import _slicedToArray from\"/home/adbuls/social-media-app-MERN-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useRef}from\"react\";import React,{useState}from'react';import CardHeader from'@material-ui/core/CardHeader';import TextField from'@material-ui/core/TextField';import Avatar from'@material-ui/core/Avatar';import Icon from'@material-ui/core/Icon';import axios from\"axios\";import{withStyles}from'@material-ui/core/styles';import{Link}from'react-router-dom';import{AuthContext}from\"../../context/AuthContext\";import{styles}from'./commentStyle';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CommentSA(_ref){var post=_ref.post,classes=_ref.classes;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var desc=useRef();var _useContext=useContext(AuthContext),currentUser=_useContext.user;/*const deleteComment = comment => event => {\n    uncomment({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, props.postId, comment).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        props.updateComments(data.comments)\n      }\n    })\n  }*/var commentBody=function commentBody(item){return/*#__PURE__*/_jsxs(\"p\",{className:classes.commentText,children:[/*#__PURE__*/_jsx(Link,{to:\"/user/\"+item.postedBy._id,children:item.postedBy.name}),/*#__PURE__*/_jsx(\"br\",{}),item.text,/*#__PURE__*/_jsxs(\"span\",{className:classes.commentDate,children:[new Date(item.created).toDateString(),\" |\",currentUser._id===item.postedBy._id&&/*#__PURE__*/_jsx(Icon,{className:classes.commentDelete,children:\"delete\"})]})]});};return/*#__PURE__*/_jsx(\"div\",{children:post.comments.map(function(item,i){return/*#__PURE__*/_jsx(CardHeader,{avatar:/*#__PURE__*/_jsx(Avatar,{className:classes.smallAvatar,src:'/api/users/photo/'+item.postedBy._id}),title:commentBody(item),className:classes.cardHeader},i);})});}export default withStyles(styles)(CommentSA);","map":{"version":3,"names":["useContext","useEffect","useRef","React","useState","CardHeader","TextField","Avatar","Icon","axios","withStyles","Link","AuthContext","styles","jsx","_jsx","jsxs","_jsxs","CommentSA","_ref","post","classes","_useState","_useState2","_slicedToArray","text","setText","desc","_useContext","currentUser","user","commentBody","item","className","commentText","children","to","postedBy","_id","name","commentDate","Date","created","toDateString","commentDelete","comments","map","i","avatar","smallAvatar","src","title","cardHeader"],"sources":["/home/adbuls/social-media-app-MERN-master/client/src/components/comment/commentSA.js"],"sourcesContent":["import {useContext, useEffect, useRef } from \"react\";\nimport React, {useState} from 'react'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport TextField from '@material-ui/core/TextField'\nimport Avatar from '@material-ui/core/Avatar'\nimport Icon from '@material-ui/core/Icon'\nimport PropTypes from 'prop-types'\nimport axios from \"axios\"\nimport { withStyles } from '@material-ui/core/styles';\nimport {Link} from 'react-router-dom'\nimport { AuthContext } from \"../../context/AuthContext\";\nimport {styles} from './commentStyle'\n\n\nfunction CommentSA ({post, classes}) {\n  const [text, setText] = useState('')\n  const desc = useRef();\n  const { user: currentUser } = useContext(AuthContext);\n\n\n\n  /*const deleteComment = comment => event => {\n    uncomment({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, props.postId, comment).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        props.updateComments(data.comments)\n      }\n    })\n  }*/\n\n    const commentBody = item => {\n      return (\n        <p className={classes.commentText}>\n          <Link to={\"/user/\" + item.postedBy._id}>{item.postedBy.name}</Link><br/>\n          {item.text}\n          <span className={classes.commentDate}>\n            {(new Date(item.created)).toDateString()} |\n            {currentUser._id === item.postedBy._id &&\n              <Icon className={classes.commentDelete}>delete</Icon> }\n          </span>\n        </p>\n      )\n    }\n\n    return (<div>\n        { post.comments.map((item, i) => {\n            return <CardHeader\n                      avatar={\n                      <Avatar className={classes.smallAvatar} src={'/api/users/photo/'+item.postedBy._id}/>}\n                      title={commentBody(item)}\n                      className={classes.cardHeader}\n                      key={i}/>\n              })\n        }\n    </div>)\n}\n\nCommentSA.propTypes = {\n  postId: PropTypes.string.isRequired,\n  comments: PropTypes.array.isRequired,\n  updateComments: PropTypes.func.isRequired\n}\n\nexport default withStyles(styles)(CommentSA);"],"mappings":"sIAAA,OAAQA,UAAU,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CACpD,MAAO,CAAAC,KAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,MAAO,CAAAC,UAAU,KAAM,8BAA8B,CACrD,MAAO,CAAAC,SAAS,KAAM,6BAA6B,CACnD,MAAO,CAAAC,MAAM,KAAM,0BAA0B,CAC7C,MAAO,CAAAC,IAAI,KAAM,wBAAwB,CAEzC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,0BAA0B,CACrD,OAAQC,IAAI,KAAO,kBAAkB,CACrC,OAASC,WAAW,KAAQ,2BAA2B,CACvD,OAAQC,MAAM,KAAO,gBAAgB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGrC,QAAS,CAAAC,SAASA,CAAAC,IAAA,CAAmB,IAAhB,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAChC,IAAAC,SAAA,CAAwBlB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,GAAM,CAAAI,IAAI,CAAGzB,MAAM,CAAC,CAAC,CACrB,IAAA0B,WAAA,CAA8B5B,UAAU,CAACY,WAAW,CAAC,CAAvCiB,WAAW,CAAAD,WAAA,CAAjBE,IAAI,CAIZ;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAEI,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAGC,IAAI,CAAI,CAC1B,mBACEf,KAAA,MAAGgB,SAAS,CAAEZ,OAAO,CAACa,WAAY,CAAAC,QAAA,eAChCpB,IAAA,CAACJ,IAAI,EAACyB,EAAE,CAAE,QAAQ,CAAGJ,IAAI,CAACK,QAAQ,CAACC,GAAI,CAAAH,QAAA,CAAEH,IAAI,CAACK,QAAQ,CAACE,IAAI,CAAO,CAAC,cAAAxB,IAAA,QAAI,CAAC,CACvEiB,IAAI,CAACP,IAAI,cACVR,KAAA,SAAMgB,SAAS,CAAEZ,OAAO,CAACmB,WAAY,CAAAL,QAAA,EACjC,GAAI,CAAAM,IAAI,CAACT,IAAI,CAACU,OAAO,CAAC,CAAEC,YAAY,CAAC,CAAC,CAAC,IACzC,CAACd,WAAW,CAACS,GAAG,GAAKN,IAAI,CAACK,QAAQ,CAACC,GAAG,eACpCvB,IAAA,CAACP,IAAI,EAACyB,SAAS,CAAEZ,OAAO,CAACuB,aAAc,CAAAT,QAAA,CAAC,QAAM,CAAM,CAAC,EACnD,CAAC,EACN,CAAC,CAER,CAAC,CAED,mBAAQpB,IAAA,QAAAoB,QAAA,CACFf,IAAI,CAACyB,QAAQ,CAACC,GAAG,CAAC,SAACd,IAAI,CAAEe,CAAC,CAAK,CAC7B,mBAAOhC,IAAA,CAACV,UAAU,EACR2C,MAAM,cACNjC,IAAA,CAACR,MAAM,EAAC0B,SAAS,CAAEZ,OAAO,CAAC4B,WAAY,CAACC,GAAG,CAAE,mBAAmB,CAAClB,IAAI,CAACK,QAAQ,CAACC,GAAI,CAAC,CAAE,CACtFa,KAAK,CAAEpB,WAAW,CAACC,IAAI,CAAE,CACzBC,SAAS,CAAEZ,OAAO,CAAC+B,UAAW,EACzBL,CAAG,CAAC,CACjB,CAAC,CAAC,CAEP,CAAC,CACV,CAQA,cAAe,CAAArC,UAAU,CAACG,MAAM,CAAC,CAACK,SAAS,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}