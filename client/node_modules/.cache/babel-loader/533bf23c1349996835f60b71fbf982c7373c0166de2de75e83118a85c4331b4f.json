{"ast":null,"code":"import Message from\"../../components/message/Message\";import Button from\"@material-ui/core/Button\";import SendIcon from\"@material-ui/icons/Send\";import{withStyles}from\"@material-ui/core/styles\";import{styles}from\"./centerChatPanelStyle\";import{useEffect,useRef}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CenterChatPanel(_ref){var classes=_ref.classes,currentChat=_ref.currentChat,messages=_ref.messages,setNewMessage=_ref.setNewMessage,newMessage=_ref.newMessage,handleSubmit=_ref.handleSubmit,user=_ref.user,contact=_ref.contact;var scrollRef=useRef();/* useEffect(() => {\n        scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    }, [messages]);\n */return/*#__PURE__*/_jsx(\"div\",{className:classes.chatBox,children:/*#__PURE__*/_jsx(\"div\",{className:classes.chatBoxWrapper,children:currentChat?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.chatBoxTop,children:messages.map(function(m){return/*#__PURE__*/_jsx(\"div\",{ref:scrollRef,children:/*#__PURE__*/_jsx(Message,{message:m,own:m.sender===user._id,user:user,contact:contact},m._id)});})}),/*#__PURE__*/_jsx(\"div\",{className:classes.chatBoxBottom,children:/*#__PURE__*/_jsx(\"div\",{className:classes.typeMsg,children:/*#__PURE__*/_jsxs(\"form\",{id:\"chat-form\",className:classes.form,children:[/*#__PURE__*/_jsx(\"input\",{id:\"msg\",type:\"text\",placeholder:\"Type a message here...\",required:true,autoComplete:\"off\",className:classes.input,onChange:function onChange(e){return setNewMessage(e.target.value);},value:newMessage}),/*#__PURE__*/_jsx(Button,{className:classes.send,\"aria-label\":\"Send\",type:\"submit\",onClick:handleSubmit,children:/*#__PURE__*/_jsx(SendIcon,{})})]})})})]}):/*#__PURE__*/_jsx(\"span\",{className:classes.noConversationText,children:\"Open a conversation to start a chat.\"})})});}export default withStyles(styles)(CenterChatPanel);","map":{"version":3,"names":["Message","Button","SendIcon","withStyles","styles","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CenterChatPanel","_ref","classes","currentChat","messages","setNewMessage","newMessage","handleSubmit","user","contact","scrollRef","className","chatBox","children","chatBoxWrapper","chatBoxTop","map","m","ref","message","own","sender","_id","chatBoxBottom","typeMsg","id","form","type","placeholder","required","autoComplete","input","onChange","e","target","value","send","onClick","noConversationText"],"sources":["/home/adbuls/social-media-app-MERN-master/client/src/components/centerChatPanel/CenterChatPanel.js"],"sourcesContent":["import Message from \"../../components/message/Message\";\nimport Button from \"@material-ui/core/Button\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { styles } from \"./centerChatPanelStyle\";\nimport { useEffect, useRef } from \"react\";\nfunction CenterChatPanel({classes, currentChat, messages, setNewMessage, newMessage, handleSubmit, user, contact}) {\n    const scrollRef = useRef();\n\n    /* useEffect(() => {\n        scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    }, [messages]);\n */\n    return (\n        <div className={classes.chatBox}>\n            <div className={classes.chatBoxWrapper}>\n                {currentChat ? (\n                    <>\n                        <div className={classes.chatBoxTop}>\n                            {messages.map((m) => (\n                                <div ref={scrollRef}>\n                                    <Message\n                                        key={m._id}\n                                        message={m}\n                                        own={m.sender === user._id}\n                                        user={user}\n                                        contact={contact}\n                                    />\n                                </div>\n                            ))}\n                        </div>\n                        <div className={classes.chatBoxBottom}>\n                            <div className={classes.typeMsg}>\n                                <form\n                                    id=\"chat-form\"\n                                    className={classes.form}\n                                >\n                                    <input\n                                        id=\"msg\"\n                                        type=\"text\"\n                                        placeholder=\"Type a message here...\"\n                                        required\n                                        autoComplete=\"off\"\n                                        className={classes.input}\n                                        onChange={(e) =>\n                                            setNewMessage(\n                                                e.target.value\n                                            )\n                                        }\n                                        value={newMessage}\n                                    />\n                                    <Button\n                                        className={classes.send}\n                                        aria-label=\"Send\"\n                                        type=\"submit\"\n                                        onClick={handleSubmit}\n                                    >\n                                        <SendIcon />\n                                    </Button>\n                                </form>\n                            </div>\n                        </div>\n                    </>\n                ) : (\n                    <span className={classes.noConversationText}>\n                        Open a conversation to start a chat.\n                    </span>\n                )}\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(CenterChatPanel);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}