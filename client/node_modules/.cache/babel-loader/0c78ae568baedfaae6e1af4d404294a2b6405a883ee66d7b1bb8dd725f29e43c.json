{"ast":null,"code":"var _jsxFileName = \"/home/adbuls/social-media-app-MERN-master/client/src/components/comment/commentSA.js\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect, useRef } from \"react\";\nimport React, { useState } from 'react';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport TextField from '@material-ui/core/TextField';\nimport Avatar from '@material-ui/core/Avatar';\nimport Icon from '@material-ui/core/Icon';\nimport PropTypes from 'prop-types';\nimport axios from \"axios\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Comments(_ref) {\n  _s();\n  let {\n    props,\n    classes\n  } = _ref;\n  const [text, setText] = useState('');\n  const desc = useRef();\n  const {\n    user: currentUser\n  } = useContext(AuthContext);\n  const handleChange = event => {\n    setText(event.target.value);\n  };\n\n  // submit a comment\n  const submitHandler = async e => {\n    e.preventDefault();\n    const newComment = {\n      userId: currentUser._id,\n      desc: desc.current.value\n    };\n    try {\n      await axios.put(\"/posts\" + props.postId + \"/comment\", {\n        userId: currentUser._id\n      });\n      // refresh the page after posting something\n      window.location.reload();\n    } catch (err) {}\n  };\n\n  /*const deleteComment = comment => event => {\n    uncomment({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, props.postId, comment).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        props.updateComments(data.comments)\n      }\n    })\n  }*/\n\n  const commentBody = item => {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: classes.commentText,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/user/\" + item.postedBy._id,\n        children: item.postedBy.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 78\n      }, this), item.text, /*#__PURE__*/_jsxDEV(\"span\", {\n        className: classes.commentDate,\n        children: [new Date(item.created).toDateString(), \" |\", currentUser._id === item.postedBy._id && /*#__PURE__*/_jsxDEV(Icon, {\n          className: classes.commentDelete,\n          children: \"delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n        className: classes.smallAvatar,\n        src: '/api/users/photo/' + currentUser._id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this),\n      title: /*#__PURE__*/_jsxDEV(TextField, {\n        onKeyDown: submitHandler,\n        multiline: true,\n        value: text,\n        onChange: handleChange,\n        placeholder: \"Write something ...\",\n        className: classes.commentField,\n        margin: \"normal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 23\n      }, this),\n      className: classes.cardHeader\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), props.comments.map((item, i) => {\n      return /*#__PURE__*/_jsxDEV(CardHeader, {\n        avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n          className: classes.smallAvatar,\n          src: '/api/users/photo/' + item.postedBy._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this),\n        title: commentBody(item),\n        className: classes.cardHeader\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 20\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 13\n  }, this);\n}\n_s(Comments, \"/+TQNw2urmksURKRjHPFBWNwGLk=\");\n_c = Comments;\nComments.propTypes = {\n  postId: PropTypes.string.isRequired,\n  comments: PropTypes.array.isRequired,\n  updateComments: PropTypes.func.isRequired\n};\nvar _c;\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"names":["useContext","useEffect","useRef","React","useState","CardHeader","TextField","Avatar","Icon","PropTypes","axios","makeStyles","Link","AuthContext","jsxDEV","_jsxDEV","Comments","_ref","_s","props","classes","text","setText","desc","user","currentUser","handleChange","event","target","value","submitHandler","e","preventDefault","newComment","userId","_id","current","put","postId","window","location","reload","err","commentBody","item","className","commentText","children","to","postedBy","name","fileName","_jsxFileName","lineNumber","columnNumber","commentDate","Date","created","toDateString","commentDelete","avatar","smallAvatar","src","title","onKeyDown","multiline","onChange","placeholder","commentField","margin","cardHeader","comments","map","i","_c","propTypes","string","isRequired","array","updateComments","func","$RefreshReg$"],"sources":["/home/adbuls/social-media-app-MERN-master/client/src/components/comment/commentSA.js"],"sourcesContent":["import {useContext, useEffect, useRef } from \"react\";\nimport React, {useState} from 'react'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport TextField from '@material-ui/core/TextField'\nimport Avatar from '@material-ui/core/Avatar'\nimport Icon from '@material-ui/core/Icon'\nimport PropTypes from 'prop-types'\nimport axios from \"axios\"\nimport {makeStyles} from '@material-ui/core/styles'\nimport {Link} from 'react-router-dom'\nimport { AuthContext } from \"../../context/AuthContext\";\n\n\nexport default function Comments ({props, classes}) {\n  const [text, setText] = useState('')\n  const desc = useRef();\n  const { user: currentUser } = useContext(AuthContext);\n\n  const handleChange = event => {\n    setText(event.target.value)\n  }\n  \n  // submit a comment\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    const newComment = {\n      userId: currentUser._id,\n      desc: desc.current.value,\n    };\n    try {\n      await axios.put(\"/posts\"+ props.postId + \"/comment\", { userId: currentUser._id });\n      // refresh the page after posting something\n      window.location.reload();\n    } catch (err) {}\n};\n\n\n  /*const deleteComment = comment => event => {\n    uncomment({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, props.postId, comment).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        props.updateComments(data.comments)\n      }\n    })\n  }*/\n\n    const commentBody = item => {\n      return (\n        <p className={classes.commentText}>\n          <Link to={\"/user/\" + item.postedBy._id}>{item.postedBy.name}</Link><br/>\n          {item.text}\n          <span className={classes.commentDate}>\n            {(new Date(item.created)).toDateString()} |\n            {currentUser._id === item.postedBy._id &&\n              <Icon className={classes.commentDelete}>delete</Icon> }\n          </span>\n        </p>\n      )\n    }\n\n    return (<div>\n        <CardHeader\n              avatar={\n                <Avatar className={classes.smallAvatar} src={'/api/users/photo/'+ currentUser._id}/>\n              }\n              title={ <TextField\n                onKeyDown={submitHandler}\n                multiline\n                value={text}\n                onChange={handleChange}\n                placeholder=\"Write something ...\"\n                className={classes.commentField}\n                margin=\"normal\"\n                />}\n              className={classes.cardHeader}\n        />\n        { props.comments.map((item, i) => {\n            return <CardHeader\n                      avatar={\n                        <Avatar className={classes.smallAvatar} src={'/api/users/photo/'+item.postedBy._id}/>\n                      }\n                      title={commentBody(item)}\n                      className={classes.cardHeader}\n                      key={i}/>\n              })\n        }\n    </div>)\n}\n\nComments.propTypes = {\n  postId: PropTypes.string.isRequired,\n  comments: PropTypes.array.isRequired,\n  updateComments: PropTypes.func.isRequired\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}